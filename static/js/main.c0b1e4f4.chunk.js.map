{"version":3,"sources":["muse/MuseConfig.ts","muse/Dimens.ts","muse/Border.tsx","muse/Selector.ts","muse/MuseNote.tsx","muse/MuseBar.tsx","muse/MuseTrack.tsx","muse/MuseLine.tsx","muse/MusePage.tsx","muse/MuseNotation.tsx","muse/Muse.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["MuseConfig","noteHeight","noteWidth","noteFontSize","noteFontFamily","sigFontSize","trackGap","lineGap","pointGap","tailPointGap","pointRound","pageE","notationWidth","pageMarginHorizontal","pageMarginVertical","infoTitleFontSize","infoSubtitleFontSize","infoGap","infoFontSize","pageIndexFontSize","textFontFamily","Dimens","x","y","width","height","marginTop","marginBottom","marginLeft","marginRight","this","marginHorizontal","marginVertical","d","border","clazz","show","ifShow","className","transform","stroke","strokeWidth","fill","Selector","fun","document","addEventListener","ev","console","log","f","instance","Note","o","config","n","noteGroup","l","p","dx","notesY","pointsY","tailPointsX","dimens","undefined","generateGroup","ny","mb","py","forEach","it","idx","t","i","push","h","split","length","charCodeAt","substr","charAt","MuseNote","props","useState","isSelect","setSelect","note","onClick","getInstance","select","map","key","fontFamily","fontSize","S","F","DS","DF","N","r","pointGroup","tailPoint","Bar","notes","unitNum","notesX","baselineGroup","generateBaseline","Math","pow","q","s","e","MuseBar","bar","x1","y1","x2","y2","barLine","baseLine","Track","bars","MuseTrack","track","Line","tracks","MuseLine","line","lineHead","Page","lines","index","MusePage","page","outerBorder","textAnchor","toString","pageIndex","Notation","json","pages","title","subtitle","author","speed","rhythmic","C","JSON","parse","MuseNotation","notation","margin","y3","rythimic","notationInfo","init","data","hm","vm","w","notationH","pageIdx","linesHeight","lineYSpace","lineHeight","trackY","barsW","barIdx","barUnitSum","reduce","trackHeight","maxNoteHeight","maxNoteMarginBottom","barX","notesWidth","settle","noteMarginBootom","lineYUnit","Muse","App","state","errorA","errorB","isLoadedA","isLoadedB","a","b","url","fetch","then","res","text","result","setState","error","React","Component","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.c0b1e4f4.chunk.js","sourcesContent":["export default class MuseConfig {\n  noteHeight = 22;\n  noteWidth = 11;\n  noteFontSize = 22;\n  noteFontFamily = \"serif\";\n  sigFontSize = 14;\n\n  trackGap = 10;\n\n  lineGap = 20;\n\n  pointGap = 5;\n  tailPointGap = 8;\n  pointRound = 1.5;\n\n  pageE = 1.414;\n  notationWidth = 1000;\n  pageMarginHorizontal = 100;\n  pageMarginVertical = 110;\n\n  infoTitleFontSize = 34;\n  infoSubtitleFontSize = 22;\n  infoGap = 7;\n  infoFontSize = 20;\n\n  pageIndexFontSize = 20;\n\n  textFontFamily = \"serif\";\n}\n","export default class Dimens {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  marginTop: number;\n  marginBottom: number;\n  marginLeft: number;\n  marginRight: number;\n  constructor() {\n    this.x = 0;\n    this.y = 0;\n    this.width = 0;\n    this.height = 0;\n    this.marginBottom = 0;\n    this.marginTop = 0;\n    this.marginLeft = 0;\n    this.marginRight = 0;\n  }\n  init(\n    x: number,\n    y: number,\n    width: number,\n    height: number,\n    marginHorizontal: number,\n    marginVertical: number\n  ) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.marginBottom = marginVertical;\n    this.marginTop = marginVertical;\n    this.marginLeft = marginHorizontal;\n    this.marginRight = marginHorizontal;\n  }\n  copyFrom(d: Dimens) {\n    this.x = d.x;\n    this.y = d.y;\n    this.width = d.width;\n    this.height = d.height;\n    this.marginBottom = d.marginBottom;\n    this.marginTop = d.marginTop;\n    this.marginLeft = d.marginLeft;\n    this.marginRight = d.marginRight;\n  }\n}\n","import React from \"react\";\nimport Dimens from \"./Dimens\";\n\nexport function border(d: Dimens, clazz: string, show: boolean = false) {\n  let ifShow = false;\n  if (show || ifShow) {\n    return (\n      <rect\n        className={clazz + \"__border\"}\n        transform={\"translate(\" + d.marginLeft + \",\" + d.marginTop + \")\"}\n        width={d.width}\n        height={d.height}\n        stroke=\"blue\"\n        strokeWidth=\"0.4\"\n        fill=\"none\"\n      />\n    );\n  } else {\n    return <></>;\n  }\n}\n\nexport function outerBorder(d: Dimens, clazz: string) {\n  return (\n    <rect\n      className={clazz + \"__outer-border\"}\n      transform={\"translate(0,0)\"}\n      width={d.width + d.marginLeft + d.marginRight}\n      height={d.height + d.marginTop + d.marginBottom}\n      stroke=\"gray\"\n      strokeWidth=\"0.4\"\n      fill=\"none\"\n    />\n  );\n}\n","class Selector {\n  static instance: Selector;\n  fun: ((show: boolean) => void) | undefined;\n  private constructor() {\n    document.addEventListener(\"keydown\", (ev) => {\n      console.log(ev);\n    });\n  }\n  static getInstance() {\n    if (!this.instance) {\n      this.instance = new Selector();\n    }\n    return this.instance;\n  }\n  select(f: (show: boolean) => void) {\n    if (this.fun) {\n      this.fun(false);\n    }\n    f(true);\n    this.fun = f;\n  }\n  clear() {\n      \n  }\n}\n\nexport default Selector;\n","import React, { useState } from \"react\";\nimport Dimens from \"./Dimens\";\nimport { border } from \"./Border\";\nimport MuseConfig from \"./MuseConfig\";\nimport Selector from \"./Selector\";\n\nexport class Note {\n  config: MuseConfig;\n  n: string = \"\";\n  noteGroup: {\n    x: string;\n    n: string;\n    t: number;\n  }[] = [];\n  l: number = 0;\n  p: number = 0;\n  dx: number = 0;\n  notesY: number[] = [];\n  pointsY: number[] = [];\n  tailPointsX: number[] = [];\n  dimens: Dimens = new Dimens();\n  constructor(o: any, config: MuseConfig) {\n    this.config = config;\n    if (o.n !== undefined) {\n      this.n = o.n;\n      this.generateGroup();\n      this.l = o.l;\n      this.p = o.p;\n    }\n    if (o.dimens !== undefined) {\n      this.dimens = o.dimens;\n    }\n  }\n  settle() {\n    let width =\n      this.dx + this.config.noteWidth + this.p * this.config.tailPointGap;\n    let ny = 0;\n    let mb = 0;\n    mb += this.l * this.config.pointGap;\n    let py = 0;\n    this.noteGroup.forEach((it, idx) => {\n      if (it.t < 0) {\n        if (idx === 0) {\n          let i = -it.t;\n          for (; i > 0; --i) {\n            let x = this.config.pointGap;\n            mb += x / 2;\n            this.pointsY.push(-mb);\n            mb += x / 2;\n          }\n        }\n        if (idx !== 0) {\n          let i = -it.t;\n          for (; i > 0; --i) {\n            let x = this.config.pointGap;\n            py += x / 2;\n            this.pointsY.push(py);\n            py += x / 2;\n            ny += x;\n          }\n        }\n      }\n      this.notesY.push(ny);\n      let h = this.config.noteHeight;\n      ny += h;\n      py += h;\n      if (it.t > 0) {\n        let i = it.t;\n        for (; i > 0; --i) {\n          let x = this.config.pointGap;\n          py += x / 2;\n          this.pointsY.push(py);\n          py += x / 2;\n          ny += x;\n        }\n      }\n    });\n    for (let i = 0; i < this.p; ++i) {\n      this.tailPointsX.push(\n        this.dx + this.config.noteWidth + (i + 1 / 2) * this.config.tailPointGap\n      );\n    }\n    this.dimens.width = width;\n    this.dimens.height = ny;\n    this.dimens.marginBottom = mb;\n  }\n  generateGroup() {\n    let g = this.n.split(\"|\");\n    g.forEach((it) => {\n      for (let i = 0; i < it.length; ++i) {\n        if (\n          (it.charCodeAt(i) <= 57 && it.charCodeAt(i) >= 48) ||\n          it.charCodeAt(i) === 45\n        ) {\n          let x = it.substr(0, i);\n          let n = it.charAt(i);\n          let t = it.substr(i + 1).length;\n          if (t !== 0 && it.charAt(i + 1) === \"-\") {\n            t = -t;\n          }\n          this.noteGroup.push({ x, n, t });\n          if (x !== \"\") {\n            this.dx = this.config.sigFontSize / 2;\n          }\n          break;\n        }\n      }\n    });\n  }\n}\n\nfunction castX(x: string) {\n  let m: Record<string, string> = {\n    S: \"#\",\n    F: \"b\",\n    DS: \"x\",\n    DF: \"d\",\n    N: \"n\",\n  };\n  return m[\"x\"] || \"\";\n}\n\nfunction noteGroup(note: Note, clazz: string) {\n  return (\n    <g className={clazz + \"__group-note\"}>\n      {note.noteGroup.map((it, idx) => {\n        return (\n          <g\n            className={clazz + \"__note-one\"}\n            key={idx}\n            width={note.dimens.width}\n            height={note.notesY[idx]}\n            transform={\n              \"translate(\" +\n              0 +\n              \",\" +\n              (note.dimens.height - note.notesY[idx]) +\n              \")\"\n            }\n          >\n            <text\n              fontFamily={note.config.noteFontFamily}\n              fontSize={note.config.noteFontSize}\n              transform={\"translate(\" + note.dx + \",\" + 0 + \")\"}\n            >\n              {it.n}\n            </text>\n            <text\n              fontFamily={note.config.noteFontFamily}\n              fontSize={note.config.sigFontSize}\n              transform={\n                \"translate(\" +\n                0 +\n                \",\" +\n                (note.config.sigFontSize - note.config.noteHeight) +\n                \")\"\n              }\n            >\n              {castX(it.x)}\n            </text>\n          </g>\n        );\n      })}\n    </g>\n  );\n}\n\nfunction pointGroup(note: Note, clazz: string) {\n  return (\n    <g className={clazz + \"__group-point\"}>\n      {note.pointsY.map((it, idx) => (\n        <circle\n          key={idx}\n          r={note.config.pointRound}\n          fill=\"black\"\n          transform={\n            \"translate(\" +\n            (note.dx + note.config.noteWidth / 2) +\n            \",\" +\n            (note.dimens.height - it + note.config.pointGap / 2) +\n            \")\"\n          }\n        />\n      ))}\n    </g>\n  );\n}\n\nfunction tailPoint(note: Note, clazz: string) {\n  return (\n    <g className={clazz + \"__tail-point\"}>\n      {note.tailPointsX.map((it, idx) => (\n        <circle\n          key={idx}\n          r={note.config.pointRound}\n          fill=\"black\"\n          transform={\n            \"translate(\" +\n            it +\n            \",\" +\n            (note.dimens.height - note.config.noteHeight / 3) +\n            \")\"\n          }\n        />\n      ))}\n    </g>\n  );\n}\n\nfunction MuseNote(props: { note: Note }) {\n  let [isSelect, setSelect] = useState(false);\n  let d = props.note.dimens;\n  let clazz = \"muse-note\";\n  return (\n    <g\n      className={clazz}\n      transform={\n        \"translate(\" + (d.x - d.marginLeft) + \",\" + (d.y - d.marginTop) + \")\"\n      }\n      width={d.width + d.marginLeft + d.marginRight}\n      height={d.height + d.marginTop + d.marginBottom}\n      onClick={() => {\n        Selector.getInstance().select((show: boolean) => {\n          setSelect(show);\n        });\n      }}\n    >\n      {border(d, clazz, isSelect)}\n      {noteGroup(props.note, clazz)}\n      {pointGroup(props.note, clazz)}\n      {tailPoint(props.note, clazz)}\n    </g>\n  );\n}\n\nexport default MuseNote;\n","import React from \"react\";\nimport MuseConfig from \"./MuseConfig\";\nimport Dimens from \"./Dimens\";\nimport MuseNote, { Note } from \"./MuseNote\";\nimport { border } from \"./Border\";\n\nexport class Bar {\n  config: MuseConfig;\n  notes: Note[] = [];\n  dimens: Dimens = new Dimens();\n  unitNum: number = 0;\n  notesX: number[] = [];\n  baselineGroup: {\n    y: number;\n    s: number;\n    e: number;\n  }[] = [];\n  constructor(o: any, config: MuseConfig) {\n    this.config = config;\n    if (o.notes !== undefined) {\n      o.notes.forEach((it: any) => {\n        this.notes.push(new Note(it, this.config));\n      });\n      this.generateBaseline();\n      this.notesX.push(1);\n      this.notes.forEach((note, idx) => {\n        let x = 0;\n        if (this.notes[idx + 1] === undefined) {\n          x += 1;\n        } else if (\n          this.notes[idx + 1] !== undefined &&\n          this.notes[idx + 1].l < note.l\n        ) {\n          x += Math.pow(2, -this.notes[idx + 1].l);\n        } else {\n          x += Math.pow(2, -note.l);\n        }\n        let q = 1;\n        for (let i = 1; i <= note.p; ++i) {\n          q += Math.pow(2, -i);\n        }\n        x *= q;\n        this.notesX.push(x);\n        this.unitNum += x;\n      });\n    }\n    if (o.dimens !== undefined) {\n      this.dimens = o.dimens;\n    }\n  }\n  generateBaseline() {\n    for (let i = 0; ; ++i) {\n      let x = 0;\n      let s = 0;\n      let e = -1;\n      this.notes.forEach((it, idx) => {\n        if (it.l > i) {\n          e = idx;\n          x++;\n        } else {\n          if (s <= e) this.baselineGroup.push({ y: i, s: s, e: e });\n          s = idx + 1;\n          e = idx;\n        }\n      });\n      if (s <= e) this.baselineGroup.push({ y: i, s: s, e: e });\n      if (x === 0) {\n        break;\n      }\n    }\n  }\n}\n\nfunction barLine(d: Dimens, clazz: string) {\n  return (\n    <line\n      className={clazz + \"__bar-line\"}\n      x1={d.marginLeft + d.width + d.marginRight}\n      y1={0}\n      x2={d.marginLeft + d.width + d.marginRight}\n      y2={d.height}\n      strokeWidth={1}\n      stroke=\"black\"\n    />\n  );\n}\n\nfunction baseLine(bar: Bar, clazz: string) {\n  return (\n    <g className={clazz + \"__base-line\"}>\n      {bar.baselineGroup.map((it, idx) => (\n        <line\n          key={idx}\n          x1={bar.notes[it.s].dimens.x}\n          y1={bar.notes[it.s].dimens.height + (it.y + 1) * bar.config.pointGap}\n          x2={bar.notes[it.e].dimens.x + bar.notes[it.e].dimens.width}\n          y2={bar.notes[it.s].dimens.height + (it.y + 1) * bar.config.pointGap}\n          stroke={\"black\"}\n          strokeWidth={1}\n        />\n      ))}\n    </g>\n  );\n}\n\nfunction MuseBar(props: { bar: Bar }) {\n  let d = props.bar.dimens;\n  let clazz = \"muse-bar\";\n  return (\n    <g\n      className={clazz}\n      transform={\n        \"translate(\" + (d.x - d.marginLeft) + \",\" + (d.y - d.marginTop) + \")\"\n      }\n      width={d.width + d.marginLeft + d.marginRight}\n      height={d.height + d.marginTop + d.marginBottom}\n    >\n      {border(d, clazz)}\n      {barLine(d, clazz)}\n      {baseLine(props.bar, clazz)}\n      {props.bar.notes.map((it, idx) => (\n        <MuseNote note={it} key={idx} />\n      ))}\n    </g>\n  );\n}\n\nexport default MuseBar;\n","import React from \"react\";\nimport Dimens from \"./Dimens\";\nimport MuseConfig from \"./MuseConfig\";\nimport MuseBar, { Bar } from \"./MuseBar\";\nimport { border } from \"./Border\";\n\nexport class Track {\n  config: MuseConfig;\n  bars: Bar[] = [];\n  dimens: Dimens = new Dimens();\n  constructor(o:any, config: MuseConfig) {\n    this.config = config;\n    if (o.bars !== undefined) {\n      o.bars.forEach((it: any) => {\n        this.bars.push(new Bar(it, this.config));\n      });\n    }\n    if (o.dimens !== undefined) {\n      this.dimens = o.dimens;\n    }\n  }\n}\n\nfunction MuseTrack(props: { track: Track }) {\n  let d = props.track.dimens;\n  let clazz = \"muse-track\";\n  return (\n    <g\n      className={clazz}\n      transform={\n        \"translate(\" + (d.x - d.marginLeft) + \",\" + (d.y - d.marginTop) + \")\"\n      }\n      width={d.width + d.marginLeft + d.marginRight}\n      height={d.height + d.marginTop + d.marginBottom}\n    >\n      {border(d, clazz)}\n      {props.track.bars.map((it, idx) => (\n        <MuseBar bar={it} key={idx} />\n      ))}\n    </g>\n  );\n}\n\nexport default MuseTrack;\n","import React from \"react\";\nimport Dimens from \"./Dimens\";\nimport MuseConfig from \"./MuseConfig\";\nimport MuseTrack, { Track } from \"./MuseTrack\";\nimport { border } from \"./Border\";\n\nexport class Line {\n  config: MuseConfig;\n  tracks: Track[] = [];\n  dimens: Dimens = new Dimens();\n  constructor(o:any, config: MuseConfig) {\n    this.config = config;\n    if (o.tracks !== undefined) {\n      o.tracks.forEach((it: any) => {\n        this.tracks.push(new Track(it, this.config));\n      });\n    }\n    if (o.dimens !== undefined) {\n      this.dimens = o.dimens;\n    }\n  }\n}\n\nfunction lineHead(d: Dimens, clazz: string) {\n  return (\n    <g className={clazz + \"__line-head\"}>\n      <line x1={0} y1={0} x2={0} y2={d.height} strokeWidth={1} stroke=\"black\" />\n    </g>\n  );\n}\n\nfunction MuseLine(props: { line: Line }) {\n  let d = props.line.dimens;\n  let clazz = \"muse-line\";\n  return (\n    <g\n      className={clazz}\n      transform={\n        \"translate(\" + (d.x - d.marginLeft) + \",\" + (d.y - d.marginTop) + \")\"\n      }\n      width={d.width + d.marginLeft + d.marginRight}\n      height={d.height + d.marginTop + d.marginBottom}\n    >\n      {border(d, clazz)}\n      {lineHead(d, clazz)}\n      {props.line.tracks.map((it, idx) => (\n        <MuseTrack track={it} key={idx} />\n      ))}\n    </g>\n  );\n}\n\nexport default MuseLine;\n","import React from \"react\";\nimport MuseConfig from \"./MuseConfig\";\nimport Dimens from \"./Dimens\";\nimport MuseLine, { Line } from \"./MuseLine\";\nimport { border, outerBorder } from \"./Border\";\n\nexport class Page {\n  config: MuseConfig;\n  lines: Line[] = [];\n  dimens: Dimens = new Dimens();\n  index: number = 0;\n  constructor(o: any, config: MuseConfig) {\n    this.config = config;\n    if (o.lines !== undefined) {\n      o.lines.forEach((it: any) => {\n        this.lines.push(new Line(it, this.config));\n      });\n    }\n    if (o.dimens !== undefined) {\n      this.dimens = o.dimens;\n    }\n  }\n}\n\nfunction pageIndex(idx: number, d: Dimens, clazz: string, config: MuseConfig) {\n  return (\n    <g\n      className={clazz + \"__page-index\"}\n      transform={\n        \"translate(\" +\n        (d.marginLeft + d.width / 2) +\n        \",\" +\n        (d.marginTop + d.height + d.marginBottom / 2) +\n        \")\"\n      }\n    >\n      <text\n        textAnchor={\"middle\"}\n        fontFamily={config.textFontFamily}\n        fontSize={config.pageIndexFontSize}\n      >\n        {idx.toString()}\n      </text>\n    </g>\n  );\n}\n\nfunction MusePage(props: { page: Page }) {\n  let d = props.page.dimens;\n  let clazz = \"muse-page\";\n  return (\n    <g\n      className={clazz}\n      transform={\n        \"translate(\" + (d.x - d.marginLeft) + \",\" + (d.y - d.marginTop) + \")\"\n      }\n      width={d.width + d.marginLeft + d.marginRight}\n      height={d.height + d.marginTop + d.marginBottom}\n    >\n      {border(d, clazz)}\n      {outerBorder(d, clazz)}\n      {pageIndex(props.page.index, d, clazz, props.page.config)}\n      {props.page.lines.map((it, idx) => (\n        <MuseLine line={it} key={idx} />\n      ))}\n    </g>\n  );\n}\n\nexport default MusePage;\n","import React from \"react\";\nimport MuseConfig from \"./MuseConfig\";\nimport Dimens from \"./Dimens\";\nimport MusePage, { Page } from \"./MusePage\";\nimport { border } from \"./Border\";\n\nexport class Notation {\n  config: MuseConfig;\n  pages: Page[] = [];\n  title: string = \"\";\n  subtitle: string = \"\";\n  author: string[] = [];\n  speed: string = \"\";\n  rhythmic: string = \"\";\n  C: string = \"\";\n  dimens: Dimens = new Dimens();\n  constructor(json: string, config: MuseConfig) {\n    this.config = config;\n    let o: any = JSON.parse(json);\n    if (o.pages !== undefined) {\n      o.pages.forEach((it: any) => {\n        this.pages.push(new Page(it, this.config));\n      });\n    }\n    if (o.dimens !== undefined) {\n      this.dimens = o.dimens;\n    }\n    if (o.title !== undefined) {\n      this.title = o.title;\n    }\n    if (o.subtitle !== undefined) {\n      this.subtitle = o.subtitle;\n    }\n    if (o.author !== undefined) {\n      this.author = o.author.toString().split(\"|\");\n    }\n    if (o.speed !== undefined) {\n      this.speed = o.speed;\n    }\n    if (o.rhythmic) {\n      this.rhythmic = o.rhythmic;\n    }\n    if (o.C) {\n      this.C = \"1=\" + o.C;\n    }\n  }\n}\n\nfunction notationInfo(notation: Notation, clazz: string) {\n  let config = notation.config;\n  let y = 0;\n  y += config.pageMarginVertical;\n  let title = (\n    <text\n      className={clazz + \"__info-title\"}\n      fontFamily={config.textFontFamily}\n      width={notation.dimens.width}\n      textAnchor={\"middle\"}\n      fontSize={config.infoTitleFontSize}\n      transform={\n        \"translate(\" +\n        (notation.dimens.marginLeft + notation.dimens.width / 2) +\n        \",\" +\n        y +\n        \")\"\n      }\n    >\n      {notation.title}\n    </text>\n  );\n  y += config.infoTitleFontSize + config.infoGap;\n  let subtitle = (\n    <text\n      className={clazz + \"__info-subtitle\"}\n      fontFamily={config.textFontFamily}\n      width={notation.dimens.width}\n      textAnchor={\"middle\"}\n      fontSize={config.infoSubtitleFontSize}\n      transform={\n        \"translate(\" +\n        (notation.dimens.marginLeft + notation.dimens.width / 2) +\n        \",\" +\n        y +\n        \")\"\n      }\n    >\n      {notation.subtitle}\n    </text>\n  );\n  let y1 = y;\n  let x = notation.author.length;\n  let author = (\n    <g className={clazz + \"__info-author\"}>\n      {notation.author.map((it, idx) => {\n        y1 += config.infoFontSize + config.infoGap;\n        if (idx < x - 2) {\n          y += config.infoFontSize + config.infoGap;\n        }\n        return (\n          <text\n            key={idx}\n            fontFamily={config.textFontFamily}\n            width={notation.dimens.width}\n            fontSize={config.infoFontSize}\n            textAnchor={\"end\"}\n            x={0}\n            transform={\n              \"translate(\" +\n              (notation.dimens.width - config.pageMarginHorizontal) +\n              \",\" +\n              y1 +\n              \")\"\n            }\n          >\n            {it}\n          </text>\n        );\n      })}\n    </g>\n  );\n  let y2 = y + (config.infoGap + config.infoSubtitleFontSize);\n  let y3 = y2 + (config.infoGap + config.infoFontSize);\n  let rythimic = (\n    <g className={clazz + \"__info-rythmic\"} width={notation.dimens.width}>\n      <text\n        fontFamily={config.textFontFamily}\n        width={notation.dimens.width}\n        fontSize={config.infoFontSize}\n        transform={\"translate(\" + config.pageMarginHorizontal + \",\" + y2 + \")\"}\n      >\n        {notation.speed}\n      </text>\n      <text\n        fontFamily={config.textFontFamily}\n        width={notation.dimens.width}\n        fontSize={config.infoFontSize}\n        transform={\"translate(\" + config.pageMarginHorizontal + \",\" + y3 + \")\"}\n      >\n        {notation.C + \" \" + notation.rhythmic}\n      </text>\n    </g>\n  );\n  return (\n    <g className={clazz + \"__info\"} width={notation.dimens.width}>\n      {title}\n      {subtitle}\n      {author}\n      {rythimic}\n    </g>\n  );\n}\n\nfunction MuseNotation(props: { notation: Notation }) {\n  let margin = 10;\n  let d = props.notation.dimens;\n  let clazz = \"muse-notation\";\n  return (\n    <svg\n      className=\"muse\"\n      width={props.notation.dimens.width + margin * 2}\n      height={props.notation.dimens.height + margin * 2}\n    >\n      <g\n        className={clazz}\n        transform={\"translate(\" + margin + \",\" + margin + \")\"}\n        width={props.notation.dimens.width}\n        height={props.notation.dimens.height}\n      >\n        {border(d, clazz)}\n        {notationInfo(props.notation, clazz)}\n        {props.notation.pages.map((it, idx) => (\n          <MusePage page={it} key={idx} />\n        ))}\n      </g>\n    </svg>\n  );\n}\n\nexport default MuseNotation;\n","import React from \"react\";\nimport MuseConfig from \"./MuseConfig\";\nimport MuseNotation, { Notation } from \"./MuseNotation\";\n\nfunction init(data: string, config: MuseConfig): Notation {\n  let hm = config.pageMarginHorizontal;\n  let vm = config.pageMarginVertical;\n  let w = config.notationWidth - hm * 2;\n  let h = config.notationWidth * config.pageE - vm * 2;\n  let notation = new Notation(data, config);\n  let notationH = 0;\n  notation.pages.forEach((page, pageIdx) => {\n    page.dimens.x = hm;\n    page.dimens.y = vm * (pageIdx + 1) + (vm + h) * pageIdx;\n    page.dimens.width = w;\n    page.dimens.marginLeft = hm;\n    page.dimens.marginRight = hm;\n    page.dimens.height = h;\n    page.dimens.marginTop = vm;\n    page.dimens.marginBottom = vm;\n    if (pageIdx === 0) {\n      let x = 0;\n      x += config.infoTitleFontSize + config.infoGap;\n      x += config.infoSubtitleFontSize + config.infoGap;\n      x += notation.author.length * (config.infoFontSize + config.infoGap);\n      page.dimens.marginTop += x;\n      page.dimens.height -= x;\n      page.dimens.y += x;\n    }\n    page.index = pageIdx + 1;\n    notationH +=\n      page.dimens.marginTop + page.dimens.marginBottom + page.dimens.height;\n    let linesHeight: number[] = [];\n    let lineYSpace = page.dimens.height;\n    page.lines.forEach((line) => {\n      line.dimens.width = page.dimens.width;\n      line.dimens.x = page.dimens.marginLeft;\n      let lineHeight = 0;\n      let trackY = 0;\n      let barsW: number[] = [];\n      line.tracks.forEach((track) => {\n        track.bars.forEach((bar, barIdx) => {\n          if (barsW[barIdx] !== undefined) {\n            barsW[barIdx] =\n              barsW[barIdx] > bar.unitNum ? barsW[barIdx] : bar.unitNum;\n          } else {\n            barsW.push(bar.unitNum);\n          }\n        });\n      });\n      let barUnitSum = barsW.reduce((s, it) => s + it);\n      line.tracks.forEach((track) => {\n        let trackHeight = 0;\n        track.dimens.y = trackY;\n        track.dimens.width = line.dimens.width;\n        let maxNoteHeight = 0; //最大note.y\n        let maxNoteMarginBottom = 0;\n        let barX = 0;\n        track.bars.forEach((bar, barIdx) => {\n          bar.unitNum = barsW[barIdx];\n          bar.dimens.width = (barsW[barIdx] / barUnitSum) * track.dimens.width;\n          bar.dimens.x = barX;\n          barX += bar.dimens.width;\n          let notesWidth: number[] = [];\n          bar.notes.forEach((note) => {\n            note.settle();\n            let noteWidth = note.dimens.width;\n            let noteHeight = note.dimens.height;\n            let noteMarginBootom = note.dimens.marginBottom;\n            maxNoteHeight =\n              maxNoteHeight > noteHeight ? maxNoteHeight : noteHeight;\n            maxNoteMarginBottom =\n              maxNoteMarginBottom > noteMarginBootom\n                ? maxNoteMarginBottom\n                : noteMarginBootom;\n            notesWidth.push(noteWidth);\n          });\n          let x = 0;\n          bar.notes.forEach((note, idx) => {\n            x += (bar.notesX[idx] / (bar.unitNum + 1)) * bar.dimens.width;\n            note.dimens.x = x - config.noteWidth / 2 - note.dx;\n          });\n        });\n        track.dimens.height = maxNoteHeight + maxNoteMarginBottom;\n        track.bars.forEach((bar) => {\n          bar.dimens.height = track.dimens.height;\n          bar.notes.forEach((note) => {\n            note.dimens.height = maxNoteHeight;\n            note.dimens.marginBottom = maxNoteMarginBottom;\n          });\n        });\n        trackHeight = maxNoteHeight + maxNoteMarginBottom;\n        lineHeight += trackHeight + config.trackGap;\n        trackY += trackHeight + config.trackGap;\n      });\n      lineHeight -= config.trackGap;\n      line.dimens.height = lineHeight;\n      lineYSpace -= lineHeight;\n      linesHeight.push(lineHeight);\n    });\n    let lineYUnit = lineYSpace / (page.lines.length - 1);\n    page.lines.forEach((line, idx) => {\n      let py = page.dimens.marginTop;\n      for (let i = 0; i < idx; ++i) {\n        py += lineYUnit + linesHeight[i];\n      }\n      line.dimens.y = py;\n    });\n  });\n  notation.dimens.width = w + 2 * hm;\n  notation.dimens.height = notationH;\n  return notation;\n}\n\nfunction Muse(props: { data: string; config?: MuseConfig }) {\n  return (\n    <MuseNotation\n      notation={init(\n        props.data,\n        props.config ? props.config : new MuseConfig()\n      )}\n    />\n  );\n}\n\nexport default Muse;\n","import React from \"react\";\nimport \"./App.css\";\nimport Muse from \"./muse/Muse\";\n\nclass App extends React.Component<\n  {},\n  {\n    errorA: any | null;\n    errorB: any | null;\n    isLoadedA: boolean;\n    isLoadedB: boolean;\n    a: string;\n    b: string;\n  }\n> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      errorA: null,\n      errorB: null,\n      isLoadedA: false,\n      isLoadedB: false,\n      a: \"\",\n      b: \"\",\n    };\n  }\n\n  componentDidMount() {\n    let url = \"https://cdn.jsdelivr.net/gh/shizuku/muse-react/test/data/\";\n    //let url = \"http://localhost:8888/\";\n    fetch(url + \"a.json\")\n      .then((res) => res.text())\n      .then(\n        (result) => {\n          this.setState({\n            isLoadedA: true,\n            a: result,\n          });\n        },\n        (error) => {\n          this.setState({\n            isLoadedA: true,\n            errorA: error,\n          });\n        }\n      );\n    fetch(url + \"b.json\")\n      .then((res) => res.text())\n      .then(\n        (result) => {\n          this.setState({\n            isLoadedB: true,\n            b: result,\n          });\n        },\n        (error) => {\n          this.setState({\n            isLoadedB: true,\n            errorB: error,\n          });\n        }\n      );\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <h2>Example A</h2>\n        {this.state.isLoadedA ? (\n          this.state.errorA ? (\n            \"error\"\n          ) : (\n            <Muse data={this.state.a} />\n          )\n        ) : (\n          \"loading...\"\n        )}\n        <h2>Example B</h2>\n        {this.state.isLoadedB ? (\n          this.state.errorB ? (\n            \"error\"\n          ) : (\n            <Muse data={this.state.b} />\n          )\n        ) : (\n          \"loading...\"\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}